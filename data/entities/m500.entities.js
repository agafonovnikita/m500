const Entities = {
    Site: {
        name: 'Site',
        collection: 'sites',
        fields: [
            { name: 'name', type: String },
            // { name: 'accountId', type: String, reference: 'Account' },
            { name: 'image', type: String, image: true },
        ],
        authorize: null,
        displayForm: ['name'],
    },

    Location: {
        name: 'Location',
        collection: 'locations',
        fields: [
            { name: 'name', type: String },
            { name: 'site_id', type: Number, reference: 'Site' },
            { name: 'location_id', type: Number, reference: 'Location', allowNull: true },
            { name: 'back', type: String, image: true },
            { name: 'location_type', type: Number, reference: 'LocationType', allowNull: true },
            { name: 'location_view_type', type: Number, listbox: 'LocationViewType' },
            { name: 'latitude', type: String },
            { name: 'longitude', type: String },
        ],
        authorize: null,
        displayForm: ['name'],
    },
    LocationType: {
        name: 'LocationType',
        collection: 'location_types',
        fields: [
            { name: 'name', type: String },
            { name: 'site_id', type: Number, reference: 'Site' }
        ],
        authorize: null,
        displayForm: ['name'],
    },
    LocationTableDetail: {
        name: 'LocationTableDetail',
        collection: 'location_table_details',
        fields: [
            { name: 'location_id', type: Number, reference: 'Location', allowNull: true, displayname: 'Локация' },
            { name: 'location_type', type: Number, reference: 'LocationType', allowNull: true },
            { name: 'detail_type', type: Number, listbox: 'LocationTableDetailType' },
            { name: 'serial', type: Number, serail: true, displayname: 'Порядок' },
            { name: 'alias', type: String },
            { name: 'field_type', type: Number },
            { name: 'name', type: String, displayname: 'Название' },
            { name: 'data_type', type: Number, reference: 'ServerDataType', allowNull: true },
            { name: 'mask', type: String, allowNull: true },
            { name: 'true_color', type: String, pickcolor: true },
            { name: 'false_color', type: String, pickcolor: true },
        ],
        authorize: null,
        filters: ['Location'],
        displayForm: ['Location', 'name'],
    },
    LocationMapDetail: {
        name: 'LocationMapDetail',
        collection: 'location_map_details',
        fields: [
            { name: 'location_id', type: Number, reference: 'Location' },
            { name: 'device_id', type: Number, reference: 'Device', allowNull: true },
            { name: 'sublocation_id', type: Number, reference: 'SubLocation', allowNull: true },
            { name: 'x', type: Number },
            { name: 'y', type: Number },
            { name: 'sizex', type: Number, defaultValue: 0 },
            { name: 'sizey', type: Number, defaultValue: 0 },
            { name: 'figure', type: String, defaultValue: '' },
        ],
        authorize: null,
        displayForm: ['location_id', 'Device', 'sublocation_id'],
    },

    DeviceViewGroup: {
        name: 'DeviceViewGroup',
        collection: 'device_view_groups',
        fields: [
            { name: 'device_id', type: Number, reference: 'Device', displayname: 'Устройство', allowNull: true },
            { name: 'model_id', type: Number, reference: 'Model', displayname: 'Модель', allowNull: true },
            { name: 'name', type: String, displayname: 'Имя' },
            { name: 'serial', type: Number, serail: true, displayname: 'Порядок' },
            { name: 'is_sets', type: Boolean, displayname: 'Уставки' },
            { name: 'is_techno', type: Boolean, },
        ],
        authorize: null,
        displayForm: ['name'],
        filters: ['Location'],
    },

    DeviceGroupTag: {
        name: 'DeviceGroupTag',
        collection: 'device_group_tags',
        fields: [
            { name: 'group_id', type: Number, reference: 'DeviceViewGroup' },
            { name: 'alias', type: String },
            { name: 'displayname', type: String },
            { name: 'serial', type: Number, serail: true },
            { name: 'type', type: Number, reference: 'ServerDataType' },
            { name: 'mask', type: String },
            { name: 'true_color', type: String, pickcolor: true },
            { name: 'false_color', type: String, pickcolor: true },
            { name: 'eu', type: String },
            { name: 'modem', type: Boolean },
            { name: 'koef_k', type: Number, defaultValue: 1 },
            { name: 'koef_b', type: Number, defaultValue: 0 },
            { name: 'use_koef', type: Boolean, defaultValue: false },
        ],
        authorize: null,
        displayForm: ['DeviceViewGroup', 'alias'],
        filters: ['DeviceViewGroup'],
    },

    DeviceMainTag: {
        name: 'DeviceMainTag',
        collection: 'device_main_tags',
        fields: [
            { name: 'model_id', type: Number, reference: 'Model', displayname: 'Модель', allowNull: true },
            { name: 'alias', type: String },
            { name: 'displayname', type: String },
            { name: 'serial', type: Number, serail: true },
            { name: 'type', type: Number, reference: 'ServerDataType' },
            { name: 'mask', type: String },
            { name: 'true_color', type: String, pickcolor: true },
            { name: 'false_color', type: String, pickcolor: true },
            { name: 'eu', type: String },
        ],
        authorize: null,
        displayForm: ['alias', 'Model'],
        filters: ['model_id'],
    },

    Schema: {
        name: 'Schema',
        collection: 'schemas',
        fields: [
            { name: 'model_id', type: Number, reference: 'Model', displayname: 'Модель', allowNull: true },
            { name: 'width', type: Number },
            { name: 'height', type: Number },
            { name: 'background', type: String, svg: true },
            { name: 'back_image', type: String, image: true },
        ],
        authorize: null,
        displayForm: ['path', 'Model'],
        filters: ['model_id'],
    },

    SchemaPath: {
        name: 'SchemaPath',
        collection: 'schema_paths',
        fields: [
            { name: 'model_id', type: Number, reference: 'Model', displayname: 'Модель', allowNull: true },
            { name: 'path', type: String },
            { name: 'condition', type: String },
            { name: 'name', type: String },
            { name: 'serial', type: Number, serail: true },
        ],
        authorize: null,
        displayForm: ['path', 'Model'],
        filters: ['model_id'],
    },

    SchemaTag: {
        name: 'SchemaTag',
        collection: 'schema_tags',
        fields: [
            { name: 'model_id', type: Number, reference: 'Model', displayname: 'Модель', allowNull: true },
            { name: 'alias', type: String },
            { name: 'displayname', type: String },
            // { name: 'serial', type: Number, serail: true },
            { name: 'x', type: Number },
            { name: 'y', type: Number },
            { name: 'width', type: Number },
            { name: 'font_size', type: Number },
            { name: 'mask', type: String },
            { name: 'use_displayname', type: Boolean },
            { name: 'use_border', type: Boolean },
            { name: 'color', type: String },
            { name: 'back_color', type: String },
            { name: 'type', type: Number, reference: 'ServerDataType' },
            { name: 'eu', type: String },
            { name: 'text_anchor', type: String },
            { name: 'true_color', type: String, pickcolor: true },
            { name: 'false_color', type: String, pickcolor: true },
        ],
        authorize: null,
        displayForm: ['path', 'Model'],
        filters: ['model_id'],
    },

    SchemaGroup: {
        name: 'SchemaGroup',
        collection: 'schema_groups',
        fields: [
            { name: 'model_id', type: Number, reference: 'Model', displayname: 'Модель', allowNull: true },
            { name: 'name', type: String, displayname: 'Имя' },
            { name: 'x', type: Number },
            { name: 'y', type: Number },
            { name: 'width', type: Number },
            { name: 'back_color', type: String },
            { name: 'border_color', type: String },
            { name: 'border_width', type: Number },
            { name: 'border_radius', type: Number },
            { name: 'title_height', type: Number },
            { name: 'title_font', type: Number },
            { name: 'title_color', type: String },
            { name: 'row_height', type: Number },
            { name: 'row_color', type: String },
            { name: 'row_color_addon', type: String },
            { name: 'row_font', type: Number },
            { name: 'text_color', type: String },
            { name: 'label_font', type: Number },
            { name: 'label_color', type: String },
            { name: 'title_disable', type: Boolean },
        ],
        authorize: null,
        displayForm: ['name'],
        filters: ['Model'],
    },

    SchemaGroupTag: {
        name: 'SchemaGroupTag',
        collection: 'schema_group_tags',
        fields: [
            { name: 'group_id', type: Number, reference: 'DeviceViewGroup' },
            { name: 'alias', type: String },
            { name: 'displayname', type: String },
            { name: 'serial', type: Number, serail: true },
            { name: 'type', type: Number, reference: 'ServerDataType' },
            { name: 'mask', type: String },
            { name: 'eu', type: String },
            { name: 'true_color', type: String, pickcolor: true },
            { name: 'false_color', type: String, pickcolor: true },
        ],
        authorize: null,
        displayForm: ['DeviceViewGroup', 'alias'],
        filters: ['DeviceViewGroup'],
    },

    // Unit: {
    //     name: "Unit",
    //     collection: 'Units',
    //     fields: [
    //         { name: 'name', type: String },
    //         { name: 'location_id', type: Number, reference: 'Location' },
    //         { name: 'model_id', type: Number, reference: 'Model' },
    //     ],
    //     authorize: null,
    //     displayForm: ["name"],
    // },
    Model: {
        name: 'Model',
        collection: 'models',
        fields: [
            { name: 'name', type: String },
            { name: 'description', type: String },
            { name: 'image', type: String, image: true },
            { name: 'site_id', type: Number, reference: 'Site' }
        ],
        authorize: null,
        displayForm: ['name'],
    },
    Device: {
        name: 'Device',
        collection: 'devices',
        fields: [
            { name: 'name', type: String },
            { name: 'model_id', type: Number, reference: 'Model' },
            { name: 'device_type', type: Number, reference: 'DeviceType' },
            { name: 'address', type: String },
            { name: 'location_id', type: Number, reference: 'Location' },
            { name: 'guid', type: String },
            { name: 'latitude', type: String },
            { name: 'longitude', type: String },
            { name: 'template_id', type: Number, reference: 'DeviceTemplate', allowNull: true, defaultValue: null },
            { name: 'alias_template_id', type: Number, reference: 'DeviceAliasTemplate', allowNull: true, defaultValue: null },
            { name: 'server_alias_template_id', type: Number, reference: 'ServerAliasTemplate', allowNull: true, defaultValue: null },
        ],
        authorize: null,
        displayForm: ['name'],
        filters: ['name', 'Model', 'DeviceType'],
    },
    DeviceType: {
        name: 'DeviceType',
        collection: 'device_types',
        fields: [
            { name: 'name', type: String },
            { name: 'shortname', type: String },
            { name: 'description', type: String },
            { name: 'site_id', type: Number, reference: 'Site' }
        ],
        authorize: null,
        displayForm: ['shortname'],
    },
    // UnitDeviceBind: {
    //     name: "Device",
    //     collection: 'Devices',
    //     fields: [
    //         { name: 'name', type: String },
    //         { name: 'device_type', type: Number, listbox: 'DeviceType' },
    //         { name: 'address', type: String },
    //     ],
    //     authorize: null,
    //     displayForm: ["name"],
    // },
    Alias: {
        name: 'Alias',
        collection: 'aliases',
        fields: [
            { name: 'name', type: String },
            { name: 'displayname', type: String },
        ],
        authorize: null,
        displayForm: ['name'],
    },
    DeviceAliasTemplate: {
        name: 'DeviceAliasTemplate',
        collection: 'device_alias_templates',
        fields: [{ name: 'name', type: String }],
        authorize: null,
        displayForm: ['name'],
    },
    DeviceAliasTemplateParameter: {
        name: 'DeviceAliasTemplateParameter',
        collection: 'device_alias_template_parameters',
        fields: [
            {
                name: 'device_alias_template_id',
                type: Number,
                reference: 'DeviceAliasTemplate',
                displayname: 'Шаблон',
                size: 20,
            },
            { name: 'alias', type: String },
            { name: 'address', type: String }, //  100.0
            { name: 'read_func', type: Number },
            { name: 'write_func', type: Number },
            // { name: 'addon', type: String },
            { name: 'data_type', type: String },
            { name: 'publish', type: Boolean },
            { name: 'subscribe', type: Boolean },
            { name: 'qos', type: Number },
            { name: 'deadband_value', type: 'Float' },
            { name: 'deadband_percent', type: 'Float' },
            { name: 'deadband_time_sec', type: Number },
            { name: 'coef_k', type: 'Float' },
            { name: 'coef_b', type: 'Float' },
            { name: 'mask', type: Number },
        ],
        authorize: null,
        displayForm: ['name'],
        filters: ['DeviceAliasTemplate', 'alias', 'address'],
        view: 'card',
        tablefields: ['device_alias_template_id', 'alias', 'address', 'data_type', 'publish', 'subscribe'],
    },
    // Measure: {
    //     name: 'Measure',
    //     collection: 'Measures',
    //     fields: [
    //         { name: 'addon', type: String },
    //     ],
    //     authorize: null,
    //     displayForm: ["addon"],
    // },
    // DeviceParameter: {
    //     name: 'DeviceParameter',
    //     collection: 'Device_Parameters',
    //     fields: [
    //         { name: 'device_id', type: Number, reference: 'Device' },
    //         { name: 'parameter_id', type: Number, reference: 'Parameter' },
    //         { name: 'address', type: String },
    //         { name: 'data_type', type: Number, listbox: 'ParameterDataType' }
    //     ],
    //     authorize: null,
    //     displayForm: ["Device", 'Parameter'],
    // },
};

Entities.SubLocation = Object.assign({}, Entities.Location);
Entities.SubLocation.name = 'SubLocation';

module.exports = Entities;
